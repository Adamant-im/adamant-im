@import '~vuetify/src/stylus/settings/_colors.styl'

$chat-form-height := 64px

$chat-sender := {
  font-size: 15px
  line-height: 1.2
}

$chat-message := {
  font-size: 15px
  line-height: 1
}

.a-chat
  display: block
  text-decoration: none
  height: 100%
  position: relative
  padding-bottom: $chat-form-height

  &__content
    height: inherit
    display: flex
    flex-direction: column

  &__body
    position: relative
    flex: 1
    background-color: inherit
    color: inherit

  &__body-messages
    position: absolute
    top: 0
    left: 0
    overflow-y: scroll
    width: 100%
    height: 100%
    padding-top: 16px
    padding-bottom: 16px

    /* Scrollbar styles. */
    &::-webkit-scrollbar
      width: 2px
    &::-webkit-scrollbar-track
      background: transparent
    &::-webkit-scrollbar-thumb
      background: $grey.lighten-2
    &::-webkit-scrollbar-thumb:hover
      background: $grey.lighten-1

  &__message
    display: flex
    flex-direction: row
    padding-top: 8px
    padding-bottom: 8px
    padding-left: 16px
    padding-right: 16px

  &__message-avatar
    width: 36px
    height: 36px
    margin-right: 8px
    border-radius: 4px

    img
      width: 100%
      height: 100%
      border-radius: inherit

  &__message-card
    text-align: left
    display: inline-block

  &__message-card-header
    display: flex
    flex-direction: row
    align-items: center

  &__message-card-body
    margin-top: 2px

  &__message-text
    font-size: $chat-message.font-size
    overflow-wrap: break-word
    word-break: break-all

    p
      margin-bottom: 0
    p:not(:last-child)
      margin-bottom: 8px
    a
      text-decoration: none
      &:hover
        text-decoration: underline

  /**
   * 1. align text to top
   */
  &__sender
    font-size: $chat-sender.font-size
    line-height: $chat-sender.line-height
    font-weight: 700
    margin-right: 8px

  &__timestamp
    font-size: 12px
    line-height: 1

  &__status
    line-height: 1
    margin-left: 8px

    i
      line-height: 1.2

  &__form
    padding: 16px
    position: absolute
    left: 0
    bottom: 0
    width: 100%

/** Themes **/
.theme--light
  .a-chat
    &__content
      background-color: $shades.white
      color: $shades.black
    &__message
      &--red
        background-color: $red.lighten-5
      &--green
        background-color: $green.lighten-5
      &:hover
        background-color: $grey.lighten-4
    &__sender
      color: $grey.darken-4
    &__timestamp
      color: $grey.darken-1
    &__message-text
      a
        color: inherit
    &__form
      background-color: $grey.lighten-4

.theme--dark
  .a-chat
    &__content
      background-color: $grey.darken-4
      color: $shades.white
    &__message
      &--red
        background-color: $grey.darken-3
      &--green
        background-color: $grey.darken-3
      &:hover
        background-color: $grey.darken-3
    &__sender
      color: $shades.white
    &__timestamp
      color: $grey.base
    &__message-text
      a
        color: $blue.lighten-2
    &__form
      background-color: $grey.darken-4
